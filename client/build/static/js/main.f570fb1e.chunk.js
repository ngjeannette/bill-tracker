(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{198:function(e,t,a){e.exports=a(344)},203:function(e,t,a){},344:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(45),l=a.n(r),o=(a(203),a(15)),u=(a(65),a(21)),i=a(16),m=a(356),s=a(46),b=a.n(s);var E=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"home-section"},c.a.createElement("div",{className:"hero"},c.a.createElement("div",{className:"hero-header"},c.a.createElement("h1",null,"Use bill tracker to see bills and money in one place")),c.a.createElement("div",{className:"hero-text"},c.a.createElement("p",null,"You can see all your finances at a glance")),c.a.createElement("div",{className:"home-action"},e.name&&c.a.createElement(m.a,null,e.name),c.a.createElement(u.b,{to:"/create",className:"ui button"},"Create Bills /create"),c.a.createElement(u.b,{to:"/track",className:"ui button"},"Track Bill"),c.a.createElement(u.b,{to:"/signup",className:"ui button"},"Create User"))),c.a.createElement("div",{className:"hero-image"},c.a.createElement("img",{src:b.a,alt:"phone with chart"}))))},d=a(355),f=a(353),p=a(37),g=a.n(p);var h=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),i=u[0],s=u[1],b=Object(n.useState)(!1),E=Object(o.a)(b,2),p=E[0],h=E[1],v=c.a.createElement(d.a,{success:!0,header:"User Created"});return"duplicate"===a?v=c.a.createElement(d.a,{warning:!0,header:"Username already used"}):"error"===a&&(v=c.a.createElement(d.a,{warning:!0,header:"Username needs to be at least 1 character"})),c.a.createElement("div",{className:"username-page"},c.a.createElement("h2",null,"Sign Up"),c.a.createElement(f.a,{success:!0,warning:!0},c.a.createElement(f.a.Input,{label:"UserName",onChange:function(e){r(e.target.value),h(!1)}}),c.a.createElement(f.a.Input,{label:"Password",type:"password",onChange:function(e){s(e.target.value),h(!1)}}),c.a.createElement(m.a,{type:"submit",onClick:function(){!function(){var e={};e.username=a,e.password=i,g.a.post("/user/add",e).then((function(e){h(!0)})).catch((function(e){e.response.data.includes("duplicate")?r("duplicate"):r("error")})).finally((function(){h(!0)}))}()}},"Submit"),p&&v))};var v=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],l=a[1],u=Object(n.useState)(""),i=Object(o.a)(u,2),s=i[0],b=i[1],E=Object(n.useState)(!1),p=Object(o.a)(E,2),h=p[0],v=p[1];Object(n.useEffect)((function(){}),[r]),Object(n.useEffect)((function(){}),[h]),Object(n.useEffect)((function(){}),[s]);var O=c.a.createElement(d.a,{success:!0,header:"Logged In"});return"error"===r&&(O=c.a.createElement(d.a,{warning:!0,header:"Incorrect Match"})),c.a.createElement("div",{className:"username-page"},c.a.createElement("h2",null,"Log In"),c.a.createElement(f.a,{success:!0,warning:!0},c.a.createElement(f.a.Input,{label:"UserName",onChange:function(e){l(e.target.value),v(!1)}}),c.a.createElement(f.a.Input,{label:"Password",type:"password",onChange:function(e){b(e.target.value)}}),c.a.createElement(m.a,{type:"submit",onClick:function(t){t.preventDefault(),function(e){g.a.get("/user").then((function(t){var a=t.data.filter((function(e){return r===e.username&&s===e.password}));a.length>0?e.updateData(a):l("error")})).catch((function(e){l("error")})).finally((function(){v(!0)}))}(e)}},"Submit"),h&&O))};var O=function(e){var t=("0"+((new Date).getMonth()+1)).slice(-2),a=("0"+(new Date).getDate()).slice(-2),r=(new Date).getFullYear()+"-"+t+"-"+a,l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],E=i[1],p=Object(n.useState)(""),h=Object(o.a)(p,2),v=h[0],O=h[1],j=Object(n.useState)(""),N=Object(o.a)(j,2),y=N[0],S=N[1],w=Object(n.useState)(""),D=Object(o.a)(w,2),C=D[0],k=D[1],B=Object(n.useState)(r),F=Object(o.a)(B,2),A=F[0],I=F[1],U=Object(n.useState)({}),L=Object(o.a)(U,2),x=L[0],J=L[1],M=Object(n.useState)(!1),P=Object(o.a)(M,2),W=P[0],Y=P[1],R=Object(n.useState)(!1),T=Object(o.a)(R,2),$=T[0],H=T[1],V=Object(n.useState)(!1),q=Object(o.a)(V,2),z=q[0],G=q[1];Object(n.useEffect)((function(){e.name&&(E(!0),O(e.name),J({display:"flex"}))}),[e.name]);var K=c.a.createElement(d.a,{success:!0,header:"Bill Created"});return"error"===z&&(K=c.a.createElement(d.a,{warning:!0,header:"Incorrect Info"})),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"createbill-page",style:x},s?c.a.createElement(f.a,{success:!0,warning:!0,onSubmit:function(){!function(){if(A&&C&&y){Y(!1),H(!1);var e={username:v,billname:y,billamount:Number(C),date:A};g.a.post("/bill/add",e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e,"err")})).finally((function(){G(!0)}))}else Y(!y),H(!C),G("error")}()}},c.a.createElement(f.a.Input,{error:W,label:"Bill Name",onChange:function(e){S(e.target.value)}}),c.a.createElement(f.a.Input,{error:$,label:"Bill Amount",type:"number",onChange:function(e){k(e.target.value)}}),c.a.createElement(f.a.Input,{label:"Bill Date",type:"date",value:A,onChange:function(e){I(e.target.value)}}),c.a.createElement(m.a,{type:"submit"},"Submit"),z&&K):c.a.createElement("div",{className:"empty-page"},c.a.createElement("div",{className:"empty-header"},c.a.createElement("h2",null,"Seems like you're not logged in, Click here to Log in"),c.a.createElement(u.b,{to:"/login",className:"ui button"},"Login")),c.a.createElement("div",{className:"image-container"},c.a.createElement("img",{src:b.a,alt:"phone with chart"})))))},j=a(114),N=a(185);var y=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],l=a[1],u=Object(n.useState)([]),i=Object(o.a)(u,2),s=i[0],b=i[1],E=Object(n.useState)([]),d=Object(o.a)(E,2),f=d[0],p=d[1];function g(e,t,a){e&&t.unshift(e);var n=function(e){for(var t="object"!==typeof e?JSON.parse(e):e,a="",n=0;n<t.length;n++){var c="";for(var r in t[n])""!==c&&(c+=","),c+=t[n][r];a+=c+"\r\n"}return a}(JSON.stringify(t)),c=a+".csv"||!1,r=new Blob([n],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(r,c);else{var l=document.createElement("a");if(void 0!==l.download){var o=URL.createObjectURL(r);l.setAttribute("href",o),l.setAttribute("download",c),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}}}return Object(n.useEffect)((function(){l(e.tableData);var t=e.tableData.map((function(e){var t={};return t.date=new Date(e.date).toDateString(),t.billname=e.billname,t.billamount=e.billamount,t}));b(t);var a={date:"Date".replace(/,/g,""),billname:"Description",billamount:"Amount ($)"};p(a)}),[e.tableData]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"table-page"},r.length>0&&c.a.createElement("div",null,c.a.createElement(m.a,{onClick:function(){!function(e,t){var a=t,n=[];e.forEach((function(e){n.push({date:e.date.replace(/,/g,""),billname:e.billname,billamount:e.billamount})})),g(a,n,"billing ")}(s,f)}},"Click to Download CSV")),r.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"Description"),c.a.createElement("th",null,"Amount"))),c.a.createElement("tbody",null,r.map((function(e){return c.a.createElement("tr",null,c.a.createElement("th",null,new Date(e.date).toDateString()),c.a.createElement("th",null,e.billname),c.a.createElement("th",null,e.billamount))}))))):c.a.createElement("div",null,"empty")))},S=["#4281A4","#48A9A6","#E4DFDA","#D4B483","#C1666B","#8C7284","#F18F01","#CEE397","#F4E04D","#78C091","#A4BEF3","#FACFAD"];var w=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)([]),m=Object(o.a)(i,2),s=m[0],E=m[1],d=Object(n.useState)([]),f=Object(o.a)(d,2),p=f[0],h=f[1];Object(n.useEffect)((function(){e.name?(l(!0),g.a.get("/bill").then((function(t){var a=t.data.filter((function(t){return t.username===e.name}));if(a.length>0){var n=a.reduce((function(e,t,a){var n=new Date(t.date).getFullYear(),c=new Date(t.date).getMonth(),r=Number(t.billamount);if(e[n])if(e[n][c]){var l=Object(j.a)({},e[n]);l[c]=r+l[c],e[n]=l}else{var o=Object(j.a)({},e[n]);o[c]=r,e[n]=o}else{var u={};u[c]=r,e[n]=u}return e}),{}),c=Object.entries(n).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return[a,Object.keys(n).sort().reduce((function(e,t){return e[t]=n[t],e}),{})]})).reduce((function(e,t,a){var n=t[0],c=t[1],r={},l=Object.keys(c),o=v(l),u=Object.values(c),i=O(l),m={labels:o,datasets:[{data:u,backgroundColor:i,hoverBackgroundColor:i}]};return r[n]=m,e.push(r),e}),[]);E(c);var r=a.sort((function(e,t){return new Date(e.date)-new Date(t.date)}));h(r)}})).catch((function(e){return console.log(e,"error")}))):l(!1)}),[e.name]),Object(n.useEffect)((function(){}),[s]),Object(n.useEffect)((function(){}),[p]);var v=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.map((function(e){return t[parseInt(e)]}))},O=function(e){return e.map((function(e){return S[parseInt(e)]}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"track-page"},r?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"graph-page"},s.length>0?s.map((function(e){return c.a.createElement("div",{className:"chart-container",style:{width:"500px"}},c.a.createElement("h2",null,Object.keys(e)[0]),c.a.createElement(N.a,{data:Object.values(e)[0]}))})):c.a.createElement("div",{className:"empty-page"},c.a.createElement("div",{className:"empty-header"},c.a.createElement("h2",null,"No Bills Available, click on create"),c.a.createElement(u.b,{to:"/create",className:"ui button"},"Create Bills")),c.a.createElement("div",{className:"image-container"},c.a.createElement("img",{src:b.a,alt:"phone with chart"})))),p.length>0&&c.a.createElement(y,{tableData:p})):c.a.createElement("div",{className:"empty-page"},c.a.createElement("div",{className:"empty-header"},c.a.createElement("h2",null,"Seems like you're not logged in, Click here to Log in"),c.a.createElement(u.b,{to:"/login",className:"ui button"},"Login")),c.a.createElement("div",{className:"image-container"},c.a.createElement("img",{src:b.a,alt:"phone with chart"})))))};var D=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!0),m=Object(o.a)(l,2),s=m[0],b=m[1],d=Object(n.useState)(!0),f=Object(o.a)(d,2),p=f[0],g=f[1],j=Object(n.useState)(!1),N=Object(o.a)(j,2),y=N[0],S=N[1],D=function(e){r(e[0].username),b(!1),g(!1),S(!0)};return Object(n.useEffect)((function(){}),[a]),c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement("div",{className:"ui secondary menu"},c.a.createElement("a",{className:"item",href:"https://flaviocopes.com/sample-app-ideas/"},"Project 4"),c.a.createElement(u.b,{to:"/",className:"item"},"Home"),c.a.createElement(u.b,{to:"/create",className:"item"},"Create Bills"),c.a.createElement(u.b,{to:"/track",className:"item"},"Track Bills"),c.a.createElement("div",{className:"right menu"},a&&c.a.createElement("p",{className:"item"},"Welcome ",a),s&&c.a.createElement(u.b,{to:"/signup",className:"item"}," Sign Up"),p&&c.a.createElement(u.b,{to:"/login",className:"item"}," Login"),y&&c.a.createElement("a",{className:"item",onClick:function(){r(null),b(!0),g(!0),S(!1)}},"Log out"))),c.a.createElement("div",{className:"content-page"},c.a.createElement(i.a,{path:"/",exact:!0,component:function(){return c.a.createElement(E,null)}}),c.a.createElement(i.a,{path:"/edit/:id"}),c.a.createElement(i.a,{path:"/create",component:function(){return c.a.createElement(O,{updateData:D,name:a})}}),c.a.createElement(i.a,{path:"/signup",component:h}),c.a.createElement(i.a,{path:"/login",component:function(){return c.a.createElement(v,{updateData:D})}}),c.a.createElement(i.a,{path:"/track",component:function(){return c.a.createElement(w,{updateData:D,name:a})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,a){e.exports=a.p+"static/media/mockup-phone.345bd2d0.png"},65:function(e,t,a){}},[[198,1,2]]]);
//# sourceMappingURL=main.f570fb1e.chunk.js.map